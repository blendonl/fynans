{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/providers/query-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useState } from \"react\";\n\nexport function QueryProvider({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 60 * 1000,\n            retry: 1,\n          },\n        },\n      })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AADA;AAAA;;;AAFA;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;kCAC3B,IACE,IAAI,gLAAA,CAAA,cAAW,CAAC;gBACd,gBAAgB;oBACd,SAAS;wBACP,WAAW,KAAK;wBAChB,OAAO;oBACT;gBACF;YACF;;IAGJ,qBACE,6LAAC,yLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAAc;;;;;;AAE/C;GAhBgB;KAAA"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/providers/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n  return (\n    <NextThemesProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n      {children}\n    </NextThemesProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,qBACE,6LAAC,mJAAA,CAAA,gBAAkB;QAAC,WAAU;QAAQ,cAAa;QAAS,YAAY;kBACrE;;;;;;AAGP;KANgB"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/lib/auth.ts"],"sourcesContent":["import Cookies from \"js-cookie\";\n\nconst TOKEN_KEY = \"token\";\n\nexport function getToken(): string | null {\n  return Cookies.get(TOKEN_KEY) ?? null;\n}\n\nexport function setToken(token: string) {\n  Cookies.set(TOKEN_KEY, token, { expires: 30, sameSite: \"lax\" });\n}\n\nexport function removeToken() {\n  Cookies.remove(TOKEN_KEY);\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEA,MAAM,YAAY;AAEX,SAAS;IACd,OAAO,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,cAAc;AACnC;AAEO,SAAS,SAAS,KAAa;IACpC,wJAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW,OAAO;QAAE,SAAS;QAAI,UAAU;IAAM;AAC/D;AAEO,SAAS;IACd,wJAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AACjB"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/lib/api-client.ts"],"sourcesContent":["import { getToken } from \"./auth\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\";\n\ntype HeadersInit = Record<string, string>;\n\nasync function handleResponse(response: Response) {\n  if (response.status === 204) {\n    return null;\n  }\n  const text = await response.text();\n\n  let data: unknown = {};\n  try {\n    data = text ? JSON.parse(text) : {};\n  } catch {\n    if (!response.ok) {\n      throw new Error(text || `Request failed with status ${response.status}`);\n    }\n    throw new Error(`Invalid JSON response: ${text}`);\n  }\n\n  if (!response.ok) {\n    const msg =\n      data && typeof data === \"object\" && \"message\" in data\n        ? String((data as { message: unknown }).message)\n        : null;\n    throw new Error(msg || response.statusText || `Request failed with status ${response.status}`);\n  }\n\n  return data;\n}\n\nexport const apiClient = {\n  async get(endpoint: string, params?: Record<string, string | undefined | null>) {\n    const token = getToken();\n    const headers: HeadersInit = { \"Content-Type\": \"application/json\" };\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n\n    let url = `${BASE_URL}${endpoint}`;\n    if (params && Object.keys(params).length > 0) {\n      const queryString = Object.entries(params)\n        .filter(([, value]) => value !== undefined && value !== null)\n        .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value!)}`)\n        .join(\"&\");\n      if (queryString) url += `?${queryString}`;\n    }\n\n    const response = await fetch(url, { method: \"GET\", headers });\n    return handleResponse(response);\n  },\n\n  async post(endpoint: string, body: unknown, options?: { headers?: HeadersInit }) {\n    const token = getToken();\n    const headers: HeadersInit = { ...(options?.headers || {}) };\n\n    const isFormData = body instanceof FormData;\n    if (!isFormData && !headers[\"Content-Type\"]) {\n      headers[\"Content-Type\"] = \"application/json\";\n    }\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\n      method: \"POST\",\n      headers,\n      body: isFormData ? (body as FormData) : JSON.stringify(body),\n    });\n    return handleResponse(response);\n  },\n\n  async put(endpoint: string, body: unknown, options?: { headers?: HeadersInit }) {\n    const token = getToken();\n    const headers: HeadersInit = {\n      \"Content-Type\": \"application/json\",\n      ...(options?.headers || {}),\n    };\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\n      method: \"PUT\",\n      headers,\n      body: JSON.stringify(body),\n    });\n    return handleResponse(response);\n  },\n\n  async patch(endpoint: string, body: unknown, options?: { headers?: HeadersInit }) {\n    const token = getToken();\n    const headers: HeadersInit = {\n      \"Content-Type\": \"application/json\",\n      ...(options?.headers || {}),\n    };\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\n      method: \"PATCH\",\n      headers,\n      body: JSON.stringify(body),\n    });\n    return handleResponse(response);\n  },\n\n  async delete(endpoint: string) {\n    const token = getToken();\n    const headers: HeadersInit = { \"Content-Type\": \"application/json\" };\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\n      method: \"DELETE\",\n      headers,\n    });\n    return handleResponse(response);\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/providers/auth-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport type { User } from \"@mmoneymanager/shared\";\nimport { apiClient } from \"@/lib/api-client\";\nimport { getToken, setToken, removeToken } from \"@/lib/auth\";\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  isLoading: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  register: (data: { firstName: string; lastName: string; email: string; password: string }) => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const router = useRouter();\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setTokenState] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const stored = getToken();\n    if (stored) {\n      setTokenState(stored);\n      apiClient\n        .get(\"/auth/me\")\n        .then((data) => setUser(data as User))\n        .catch(() => {\n          removeToken();\n          setTokenState(null);\n        })\n        .finally(() => setIsLoading(false));\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const login = useCallback(async (email: string, password: string) => {\n    const res = (await apiClient.post(\"/auth/login\", { email, password })) as {\n      token: string;\n      user: User;\n    };\n    setToken(res.token);\n    setTokenState(res.token);\n    setUser(res.user);\n    router.push(\"/\");\n  }, [router]);\n\n  const register = useCallback(\n    async (data: { firstName: string; lastName: string; email: string; password: string }) => {\n      const res = (await apiClient.post(\"/auth/register\", data)) as {\n        token: string;\n        user: User;\n      };\n      setToken(res.token);\n      setTokenState(res.token);\n      setUser(res.user);\n      router.push(\"/\");\n    },\n    [router]\n  );\n\n  const logout = useCallback(async () => {\n    try {\n      await apiClient.post(\"/auth/logout\", {});\n    } catch {\n      // ignore\n    }\n    removeToken();\n    setTokenState(null);\n    setUser(null);\n    router.push(\"/login\");\n  }, [router]);\n\n  return (\n    <AuthContext.Provider value={{ user, token, isLoading, login, register, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;;;AANA;;;;;AAiBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAmB,CAAC;AAE7C,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,OAAO,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,SAAS,CAAA,GAAA,oIAAA,CAAA,WAAQ,AAAD;YACtB,IAAI,QAAQ;gBACV,cAAc;gBACd,6IAAA,CAAA,YAAS,CACN,GAAG,CAAC,YACJ,IAAI;8CAAC,CAAC,OAAS,QAAQ;6CACvB,KAAK;8CAAC;wBACL,CAAA,GAAA,oIAAA,CAAA,cAAW,AAAD;wBACV,cAAc;oBAChB;6CACC,OAAO;8CAAC,IAAM,aAAa;;YAChC,OAAO;gBACL,aAAa;YACf;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2CAAE,OAAO,OAAe;YAC9C,MAAM,MAAO,MAAM,6IAAA,CAAA,YAAS,CAAC,IAAI,CAAC,eAAe;gBAAE;gBAAO;YAAS;YAInE,CAAA,GAAA,oIAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,KAAK;YAClB,cAAc,IAAI,KAAK;YACvB,QAAQ,IAAI,IAAI;YAChB,OAAO,IAAI,CAAC;QACd;0CAAG;QAAC;KAAO;IAEX,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8CACzB,OAAO;YACL,MAAM,MAAO,MAAM,6IAAA,CAAA,YAAS,CAAC,IAAI,CAAC,kBAAkB;YAIpD,CAAA,GAAA,oIAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,KAAK;YAClB,cAAc,IAAI,KAAK;YACvB,QAAQ,IAAI,IAAI;YAChB,OAAO,IAAI,CAAC;QACd;6CACA;QAAC;KAAO;IAGV,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4CAAE;YACzB,IAAI;gBACF,MAAM,6IAAA,CAAA,YAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC;YACxC,EAAE,OAAM;YACN,SAAS;YACX;YACA,CAAA,GAAA,oIAAA,CAAA,cAAW,AAAD;YACV,cAAc;YACd,QAAQ;YACR,OAAO,IAAI,CAAC;QACd;2CAAG;QAAC;KAAO;IAEX,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAW;YAAO;YAAU;QAAO;kBAC5E;;;;;;AAGP;GAjEgB;;QACC,qIAAA,CAAA,YAAS;;;KADV;AAmET,SAAS;;IACd,OAAO,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AACpB;IAFgB"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///mnt/data/personal/mmoneymanager/apps/web/apps/web/src/providers/toast-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { Toaster } from \"sonner\";\n\nexport function ToastProvider() {\n  return <Toaster richColors position=\"top-right\" />;\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIO,SAAS;IACd,qBAAO,6LAAC,2IAAA,CAAA,UAAO;QAAC,UAAU;QAAC,UAAS;;;;;;AACtC;KAFgB"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}